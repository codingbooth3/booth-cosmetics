import{r as n,a as s,_ as a,j as e,N as E,E as c,f as l,h as f,i as P,d as b}from"./index-Bh4EBw4z.js";function U(){const[h,i]=n.useState(!0),[d,m]=n.useState(""),[u,p]=n.useState(""),[w,g]=n.useState(""),[o,x]=n.useState(""),j=async t=>{if(t.preventDefault(),!!s.currentUser)try{const r=c.credential(s.currentUser.email,o);await l(s.currentUser,r),await f(s.currentUser,d),a.success("Email updated successfully.")}catch(r){console.error(r),a.error("Failed to update email.")}},C=async t=>{if(t.preventDefault(),!!s.currentUser)try{const r=c.credential(s.currentUser.email,o);await l(s.currentUser,r),await P(s.currentUser,u),a.success("Password updated successfully.")}catch(r){console.error(r),a.error("Failed to update password.")}},v=async()=>{try{await b(s),a.success("You are being logged out."),setTimeout(()=>{i(!1)},2e3)}catch(t){console.error(t),a.error("Failed to log out.")}};return n.useEffect(()=>{const t=s.onAuthStateChanged(r=>{r?i(!0):(i(!1),a.error("Please sign in to update settings."))});return()=>t()},[]),h?e.jsxs("div",{id:"settingsContainer",children:[e.jsx("div",{id:"settingsHeaderContainer",children:e.jsx("h1",{children:"Settings"})}),e.jsxs("div",{id:"settingsUpdateContainer",children:[e.jsxs("form",{id:"settingsEmailPasswordContainer",onSubmit:j,children:[e.jsxs("div",{id:"currentEmailContainer",children:[e.jsx("h3",{id:"currentEmail",children:"Current Email :"}),e.jsx("input",{type:"email",value:w,onChange:t=>g(t.target.value)})]}),e.jsxs("div",{id:"updateEmailContainer",children:[e.jsx("h3",{id:"newEmail",children:"New Email :"}),e.jsx("input",{type:"email",value:d,onChange:t=>m(t.target.value)})]}),e.jsx("div",{className:"submitButtonContainer",children:e.jsx("button",{type:"submit",className:"submitButton",children:"Update Email"})})]}),e.jsxs("form",{id:"settingsUpdatePasswordContainer",onSubmit:C,children:[e.jsxs("div",{id:"currentPasswordContainer",children:[e.jsx("h3",{id:"currentPassword",children:"Current Password :"}),e.jsx("input",{type:"password",value:o,onChange:t=>x(t.target.value)})]}),e.jsxs("div",{id:"newPasswordContainer",children:[e.jsx("h3",{id:"newPassword",children:"New Password :"}),e.jsx("input",{type:"password",value:u,onChange:t=>p(t.target.value)})]}),e.jsx("div",{className:"submitButtonContainer",children:e.jsx("button",{type:"submit",className:"submitButton",children:"Update Password"})})]})]}),e.jsx("div",{id:"logoutButtonContainer",children:e.jsx("button",{onClick:v,id:"logoutButton",children:"Logout"})})]}):e.jsx(E,{to:"/booth-cosmetics/account/signin/"})}export{U as default};
